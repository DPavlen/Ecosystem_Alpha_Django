# Sarafan. Ecosystem_Alpha_Django 

## 1. [Функционал API, эндпойнты и технические особенности](#1)
## 2. [Стек технологий](#2)
## 3. [Запуск проекта локально](#3)
## 4. [Автор проекта:](#4)


## 1. Функционал API, эндпойнты и технические особенности <a id=1></a>

В проекте настроена автодокументация с помощью **Swagger** или **Redoc**. 
Для ознакомления перейдите по ссылке:
- http://127.0.0.1:8000/swagger/
- http://127.0.0.1:8000/redoc/

1. Реализована авторизацию пользователя по токену (AUTH TOKEN)
- http://127.0.0.1:8000/api/auth/token/login/ Djoser эндпойнт.POST-запрос. Вход по логину и паролю, и получение токена.
- http://127.0.0.1:8000/api/auth/token/logout/ Djoser эндпойнт.POST-запрос. Выход и удаление токена.

2. Реализована возможность создания, редактирования, удаления категорий и подкатегорий товаров в админке.
Категории и подкатегории обязательно должны иметь наименование, slug-имя(автоматическое заполнение на основании имени), изображение
- http://127.0.0.1:8000/admin/food_shop/category/ Категории товаров в административной панеле.
- http://127.0.0.1:8000/admin/food_shop/subcategory/ Подкатегории товаров в административной панеле.

3. Подкатегории должны быть связаны с родительской категорией. Должен быть реализован эндпоинт для просмотра всех категорий с подкатегориями. Должны быть предусмотрена пагинация.
-http://127.0.0.1:8000/api/v1/category/  Просмотр всех категорий товаров с вложенными подкатегориями.
- http://127.0.0.1:8000/api/v1/category/{id}/ Просмотр одной категории товара по id с вложенной подкатегорией.
- http://127.0.0.1:8000/api/v1/subcategory/ Просмотр всех подкатегорий товаров с вложенной категорией
- http://127.0.0.1:8000/api/v1/subcategory/{id}/ Просмотр одной подкатегории товара по id с вложенной категорией.

4. Реализована возможность добавления, изменения, удаления продуктов в админке. Продукты должны относится к определенной подкатегории и, соответственно категории, должны иметь наименование, slug-имя, изображение в 3-х размерах, цену
- http://127.0.0.1:8000/admin/food_shop/product/ - Продукты в административной панеле (можной добавлять, изменять, удалять)

5. Реализован эндпоинт вывода продуктов с пагинацией. Каждый продукт в выводе должен иметь поля: наименование, slug, категория, подкатегория, цена, список изображений.
- http://127.0.0.1:8000/api/v1/product/ Просмотр всех продуктов с вложенными подкатегориями.
- http://127.0.0.1:8000/api/v1/product/{id}/ Просмотр одной продукта по id с вложенной подкатегорией.

6. Реализован эндпоинт добавления, изменения (изменение количества), удаления продукта в корзине (Авторизованный пользователь и своя корзина)
- http://127.0.0.1:8000/api/v1/shoppingcartproduct/ - получение списка продуктов своей корзины.
- http://127.0.0.1:8000/api/v1/shoppingcartproduct/ - Добавляет продукт в корзину или обновляет (увеличивает) количество,
если он уже в корзине.
- http://127.0.0.1:8000/api/v1/shoppingcartproduct/{id}/ - Обновляет данные о продукте в корзине.
- http://127.0.0.1:8000/api/v1/shoppingcartproduct/reduce_product/ - Уменьшает количество продукта в корзине.
- http://127.0.0.1:8000/api/v1/shoppingcartproduct/clear_product_cart/ - Очищает продуктовую корзину у пользователя. 

7. Реализован эндпоинт вывода состава корзины с подсчетом количества товаров и суммы стоимости товаров в корзине.(Авторизованный пользователь и своя корзина)
- http://127.0.0.1:8000/api/v1/shoppingcartproduct/composition_basket_sum/ - Выводит состав корзины с подсчетом количества товаров и суммы стоимости товаров в корзине.


## 2. Стек технологий <a id=2></a>
[![Django](https://img.shields.io/badge/Django-4.2.1-6495ED)](https://www.djangoproject.com) [![Djangorestframework](https://img.shields.io/badge/djangorestframework-3.14.0-6495ED)](https://www.django-rest-framework.org/) [![Django Authentication with Djoser](https://img.shields.io/badge/Django_Authentication_with_Djoser-2.2.0-6495ED)](https://djoser.readthedocs.io/en/latest/getting_started.html) [![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue)](https://www.postgresql.org/) [![Swagger](https://img.shields.io/badge/Swagger-%201.21.7-blue?style=flat-square&logo=swagger)](https://swagger.io/) 



## 3. Запуск проекта локально <a id=3></a>

Перед началом разработки нужно обязательно:

+ Установить poetry https://python-poetry.org/docs/#installation
+ Изменить настройки poetry для хранения виртуального окружения командой `poetry config virtualenvs.in-project true`
+ Выполнить команду `poetry install` для установки зависимостей
+ Выполнить команду `poetry shell` для активации виртуального окружения
+ Выполнить команду `pre-commit install` для инициализации pre-commit (запускает во время коммитов хуки из файла
  .pre-commit-config)

Склонируйте проект из репозитория:

```shell
git clone https://github.com/DPavlen/Ecosystem_Alpha_Django.git
```


Перейдите в директорию проекта:

```shell
cd backend_Django/
```

Создайте файл **.env**:

```shell
nano .env
```

Добавьте строки, содержащиеся в файле **.env.example** и подставьте 
свои значения.

Пример из .env файла:

```dotenv
SECRET_KEY=DJANGO_SECRET_KEY        # Ваш секретный ключ Django
DEBUG=False                         # True - включить Дебаг. Или оставьте пустым для False
IS_LOGGING=False                    # True - включить Логирование. Или оставьте пустым для False
ALLOWED_HOSTS=127.0.0.1 backend     # Список адресов, разделенных пробелами

# Если DB_ENGINE = sqlite - используется SQLite3.
# Если DB_ENGINE = postgresql - используется PostgreSQL.

DB_ENGINE=postgresql

POSTGRES_USER=django_user              # Ваше имя пользователя для бд
POSTGRES_PASSWORD=django               # Ваш пароль для бд
POSTGRES_DB=django                     # Название вашей бд
DB_HOST=ecosystem                      # Адрес БД
DB_PORT=5432                           # Стандартное значение - 5432
```

## 4. Автор проекта: <a id=4></a> 

**Павленко Дмитрий**  
- Ссылка на мой профиль в GitHub [Dmitry Pavlenko](https://github.com/DPavlen)  